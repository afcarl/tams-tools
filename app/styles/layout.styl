@import url('https://fonts.googleapis.com/css?family=Open+Sans:300,600')

font-sans = 'Open Sans', sans-serif

font-size-big = 22px
font-size-default = 12px
font-size-small = 10px

font-bold = 600

color-background-primary  = #FFFFFF
color-background-primary-weak  = #E6E6E6
color-background-primary-strong  = #FFFFFF

color-background-secondary  = #C8C8C8
color-background-secondary-weak  = #E6E6E6
color-background-secondary-strong  = #7F7F7F

color-background-inverse  = #363636
color-background-inverse-weak  = #2E2E2E
color-background-inverse-strong  = #222222

color-foreground-primary  = #000000
color-foreground-primary-weak  = #000000
color-foreground-primary-strong  = #000000

color-foreground-secondary  = #E4E4E4
color-foreground-secondary-weak  = #E4E4E4
color-foreground-secondary-strong  = #E4E4E4

color-foreground-inverse  = #F0F0F0
color-foreground-inverse-weak  = #A5A5A5
color-foreground-inverse-strong  = #FFFFFF

color-danger = #5D0000
color-focus = #1AC0CF

button-size = 36px
button-size-small = 30px

*
  box-sizing border-box

body
  padding 0
  margin 0
  font-family font-sans
  background-color #F2F2F2

a
button
  cursor pointer

  &::-moz-focus-inner
    border: 0

button
input
textarea
select
  font-family inherit
  font-size 1em

.fake-table
  width 420px
  height 420px
  background-color grey

.fake-table-small
  width 100px
  height 100px
  background-color grey

plainlist(inline = false)
  list-style none
  margin 0
  padding 0
  if inline
    & > li
      display inline-block

action-icon(icon)
  width button-size
  height button-size
  background-color transparent
  border none
  background-image svgurl(icon) svg(
    path fill color-background-secondary-strong
  )
  background-size 80% 80%
  background-position 50% 50%
  background-repeat no-repeat

  &:focus
    background-image svgurl(icon) svg(
      path fill color-background-secondary-strong,
      path stroke color-focus,
      path stroke-width 1px
    )

round()
  width button-size-small
  height button-size-small
  border-radius (button-size-small / 2)
  overflow hidden
  border 2px solid transparent
  text-indent -500px
  font-size 0
  outline none

button(icon = false,
  color-background = color-background-secondary-strong,
  color-foreground = color-foreground-secondary-strong)
  line-height 1
  height button-size
  border 2px solid transparent
  vertical-align middle
  padding-top 0
  padding-bottom 0
  padding-right space(1)
  outline none
  background-color color-background
  color color-foreground
  if icon
    padding-left button-size
    background-image svgurl(icon) svg(
      path fill color-foreground
    )
    background-size 50% 50%
    background-position (-0.75*button-size) 50%
    background-repeat no-repeat
  else
    padding-left space(1)

  &:hover
    background-color lighten(color-background, 3%)
  &:focus
    border-color color-focus
  &:active
    background-color darken(color-background, 3%)


space(u)
  unit(15 * u, px)

.application
  font-size 11pt

.app-head
  overflow visible
  background-color color-background-secondary
  border-bottom 1px solid rgba(0,0,0,0.1)

  > :last-child
    margin-bottom -1px

.app-body
  overflow hidden
  background-color color-background-primary

.edit-panel
  margin space(1) 0 0 space(2)
  float left

.input-spinner
  display inline-block
  padding space(0.5) space(0.5) space(0.5) space(1)
  margin-right space(0.5)
  background-color color-background-primary-weak

.input-spinner-label
.input-spinner-value
.input-spinner-buttons
  display inline-block
  line-height button-size-small
  height button-size-small
  vertical-align middle

.input-spinner-label::after
  content: ':'

.input-spinner-value
  font-size font-size-big
  font-weight font-bold
  min-width space(2.5)
  text-align center

.input-spinner-button-decrement
.input-spinner-button-increment
  round()
  background-color color-background-inverse
  vertical-align top
  background-size 45% 45%
  background-position 50% 50%
  background-repeat no-repeat

  &:hover
    background-color lighten(color-background-secondary-strong, 3%)
  &:focus
    border-color color-focus
  &:active
    background-color darken(color-background-secondary-strong, 3%)

.input-spinner-button-decrement
  background-image svgurl('assets/icons/minus.svg') svg(
    rect fill color-foreground-secondary
  )
.input-spinner-button-increment
  background-image svgurl('assets/icons/plus.svg') svg(
    path fill color-foreground-secondary
  )


.edit-mode-panel
  display inline-block

.edit-mode-button-loops
.edit-mode-button-function
  &.state-hidden
    display none

.edit-mode-button-loops
  button('assets/icons/confirm.svg',
    color-background-inverse,
    color-foreground-inverse
    )
.edit-mode-button-function
  button('assets/icons/edit.svg',
    color-background-inverse,
    color-foreground-inverse
    )

.action-panel
  margin space(1) space(1.5) 0 0
  float right

.action-list
  plainlist(inline: true)

.action-list-item
  padding 0 space(0.2)

.action-button-open
  action-icon('assets/icons/open.svg')
.action-button-settings
  action-icon('assets/icons/settings.svg')
.action-button-help
  action-icon('assets/icons/help.svg')

.action-button-open
.action-button-settings
.action-button-help
  outline none
  &:hover
    opacity 0.8
  &:active
    opacity 1

.output-panel
  padding space(2) space(1.5) 0
  clear both

.output-button-add
  border none
  outline none
  border 2px solid transparent
  vertical-align top
  background-color color-background-secondary-weak
  width space(5)
  height space(5)
  text-indent -500px
  overflow hidden
  margin space(1.5) space(1)

  background-image svgurl('assets/icons/plus.svg') svg(
    path fill shade(color-background-secondary-weak, 10%)
  )
  background-size 50% 50%
  background-position 50% 50%
  background-repeat no-repeat

  &:hover
    background-image svgurl('assets/icons/plus.svg') svg(
      path fill shade(color-background-secondary-weak, 20%)
    )
  &:focus
    border-color color-focus

  &:active
    background-color darken(color-background-secondary-weak, 2%)
    background-image svgurl('assets/icons/plus.svg') svg(
      path fill shade(color-background-secondary-weak, 30%)
    )

.output-list
  plainlist(inline: true)
  display inline-block
  vertical-align middle

  > .output-list-item
    display block
    float left
    overflow visible

.output-list-item
  position relative
  margin 0 space(0.5)
  cursor pointer
  outline none
  border 3px solid color-background-secondary
  border-bottom-width 0

  &.state-current
    background-color color-background-primary
    font-weight font-bold
    cursor default
    &>.output-thumbnail
      background-color inherit

  &:focus
    border-color color-focus

.output-thumbnail
  background-color color-background-primary-weak
  padding 4px

  > *
    margin 0 auto

.output-button-delete
  round()
  border-width 3px
  position absolute
  top -5px
  right -5px
  border-color color-background-secondary
  background-color color-danger

  background-image svgurl('assets/icons/delete.svg') svg(
    path fill tint(color-danger, 70%)
  )
  background-size 50% 50%
  background-position 50% 50%
  background-repeat no-repeat

  &:hover
    background-color lighten(color-danger, 5%)
  &:focus
    border-color color-focus

  &:active
    background-color darken(color-danger, 10%)

.output-label
  display block
  height button-size
  line-height button-size
  text-align center
  padding 0
  margin 0
  border none
  outline none
  background-color transparent

  &.state-editable
    background-color color-background-primary

.output-label-edit
  text-align center
  outline none
  border 1px solid grey
  width 98%
  margin 0 1%
  &:focus
    border-color color-focus

.loop-bar
  margin space(2)
  padding space(0.5)
  background-color color-background-inverse

.loop-mode-switch
  vertical-align middle
  display inline-block

.loop-mode-options
  plainlist(inline: true)

.loop-mode
  button(false,
    color-background-inverse-weak,
    color-foreground-inverse-weak)

  &.state-active
    font-weight font-bold
    background-color color-background-inverse-strong
    color color-foreground-inverse-strong
    pointer default

    &:hover
      color color-foreground-inverse-strong
      background-color lighten(color-background-inverse-strong, 1%)
    &:focus
      border-color color-focus

    &:active
      background-color darken(color-background-inverse-strong, 10%)


  &:hover
    color lighten(color-foreground-inverse-weak, 50%)
    background-color lighten(color-background-inverse-weak, 1%)
  &:focus
    border-color color-focus

  &:active
    background-color darken(color-background-inverse-weak, 10%)


.loop-list
  plainlist(inline: true)
  display inline-block
  vertical-align middle
  padding 0 space(0.5)

.loop-list-item
  padding 0 space(0.1)

.loop-icon
  width button-size-small
  height button-size-small
  vertical-align middle
  display inline-block

.loop-button-delete
  round()
  border-radius 0
  vertical-align middle
  background-color transparent
  border 3px solid transparent
  &:hover
  &:focus
    opacity 1
    background-image svgurl('assets/icons/delete.svg') svg(
      path fill black,
      path opacity 0.5
    )
    background-size 50%
    background-position 50% 50%
    background-repeat no-repeat

  &:focus
    border-color color-focus

  &:active
    background-color rgba(0,0,0,0.2)

.diagram-scroller
  max-width 100%
  overflow auto

.diagram-scroller-body
  display flex
  align-items center
  justify-content center
  min-width min-content
  min-height min-content
  padding space(2) 0
